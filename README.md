# Library Service

## Описание проекта

Library Service — это микросервис для управления библиотекой, реализующий хранение и обработку информации об авторах и книгах, а также их связях. Сервис предоставляет API для регистрации авторов, добавления и обновления книг, получения информации об авторах и книгах, а также получения списка книг определённого автора. Поддерживается работа через gRPC и HTTP (REST).

## Основные сущности
- **Author (Автор):** содержит идентификатор (UUID) и имя автора.
- **Book (Книга):** содержит идентификатор (UUID), название книги и список идентификаторов авторов.
- **AuthorBook:** связь многие-ко-многим между авторами и книгами.
- **Outbox:** поддержка паттерна Outbox для надёжной интеграции с внешними системами.

## Технологии и их назначение
- **Go** — основной язык разработки.
- **PostgreSQL** — основная СУБД для хранения данных (авторы, книги, связи, outbox).
- **gRPC** — основной протокол взаимодействия между сервисами.
- **gRPC-Gateway** — автогенерация REST API поверх gRPC.
- **Fiber** — HTTP-сервер для REST API.
- **Squirrel** — построение SQL-запросов.
- **pgx** — драйвер для работы с PostgreSQL.
- **Goose** — миграции базы данных.
- **Logrus, Zap** — логирование.
- **Testify, Mock** — тестирование и моки.
- **Docker Compose** — инфраструктура для локального запуска (PostgreSQL).
- **protoc, protoc-gen-go, protoc-gen-grpc-gateway, protoc-gen-validate** — генерация gRPC/REST кода и валидация.
- **godotenv, caarlos0/env** — работа с переменными окружения и конфигурирование.
- **Kafka** — брокер сообщений, планируется использовать для аудита действий (audit trail).

## Основные возможности API
- Регистрация автора
- Изменение информации об авторе
- Получение информации об авторе
- Добавление книги
- Обновление книги
- Получение информации о книге
- Получение списка книг автора

API реализованы через gRPC и REST (см. [docs/spec/api/library/library.swagger.json](docs/spec/api/library/library.swagger.json)).